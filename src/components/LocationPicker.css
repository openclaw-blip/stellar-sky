.location-picker {
  position: relative;
}

.location-button {
  padding: 10px 18px;
  background: var(--ui-bg);
  border: 1px solid var(--ui-border);
  color: var(--text-primary);
  font-family: var(--font-mono);
  font-size: 12px;
  font-weight: 400;
  letter-spacing: 0.5px;
  cursor: pointer;
  transition: all 0.2s;
  backdrop-filter: blur(8px);
  clip-path: polygon(0 0, 100% 0, 100% calc(100% - 6px), calc(100% - 6px) 100%, 0 100%);
  width: 160px;
}

.location-button:hover {
  background: rgba(0, 200, 255, 0.15);
  border-color: var(--accent);
  box-shadow: 0 0 15px rgba(0, 200, 255, 0.2);
}

.location-button::before {
  content: '◎ ';
  color: var(--accent);
}

.location-modal-backdrop {
  position: fixed;
  inset: 0;
  background: rgba(0, 8, 16, 0.85);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  backdrop-filter: blur(4px);
}

.location-modal {
  background: linear-gradient(180deg, rgba(0, 20, 40, 0.98) 0%, rgba(0, 10, 25, 0.98) 100%);
  border: 1px solid var(--ui-border);
  padding: 24px;
  width: 90%;
  max-width: 500px;
  max-height: 90vh;
  overflow-y: auto;
  box-shadow: 
    0 0 40px rgba(0, 200, 255, 0.15),
    0 20px 60px rgba(0, 0, 0, 0.5);
  clip-path: polygon(0 0, calc(100% - 15px) 0, 100% 15px, 100% 100%, 15px 100%, 0 calc(100% - 15px));
}

.location-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
  padding-bottom: 16px;
  border-bottom: 1px solid var(--ui-border);
}

.location-header h3 {
  margin: 0;
  font-family: var(--font-display);
  font-size: 14px;
  font-weight: 600;
  letter-spacing: 3px;
  text-transform: uppercase;
  color: var(--accent);
}

.close-button {
  background: none;
  border: 1px solid var(--ui-border);
  width: 32px;
  height: 32px;
  color: var(--text-secondary);
  font-size: 18px;
  cursor: pointer;
  transition: all 0.2s;
  clip-path: polygon(0 0, 100% 0, 100% calc(100% - 4px), calc(100% - 4px) 100%, 0 100%);
}

.close-button:hover {
  background: rgba(255, 60, 60, 0.2);
  border-color: #ff4444;
  color: #ff4444;
}

.world-map {
  position: relative;
  width: 100%;
  height: 200px;
  background: linear-gradient(180deg, 
    rgba(0, 40, 80, 0.8) 0%, 
    rgba(0, 60, 60, 0.8) 30%, 
    rgba(0, 80, 60, 0.8) 50%,
    rgba(0, 60, 60, 0.8) 70%,
    rgba(0, 40, 80, 0.8) 100%
  );
  border: 1px solid var(--ui-border);
  cursor: crosshair;
  margin-bottom: 16px;
  overflow: hidden;
  
  background-image: 
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 360 180'%3E%3Cpath fill='%23004466' opacity='0.6' d='M80 40 Q100 30 120 35 L130 50 Q125 70 110 75 L90 65 Q75 55 80 40 M140 45 Q160 35 180 40 L200 55 Q210 70 200 85 L180 95 Q160 100 140 90 L130 75 Q125 55 140 45 M220 30 Q260 25 300 35 L320 50 Q340 70 330 90 L300 100 Q260 105 230 95 L210 80 Q200 50 220 30 M250 100 Q270 95 290 100 L310 115 Q320 135 310 150 L280 160 Q250 165 230 150 L220 130 Q230 110 250 100 M100 100 Q130 90 150 100 L160 120 Q155 140 140 150 L110 155 Q85 150 80 135 L85 115 Q90 105 100 100'/%3E%3C/svg%3E");
  background-size: cover;
}

.location-marker {
  position: absolute;
  width: 16px;
  height: 16px;
  background: var(--accent);
  border: 2px solid white;
  border-radius: 50%;
  transform: translate(-50%, -50%);
  box-shadow: 0 0 15px rgba(0, 200, 255, 0.6);
  pointer-events: none;
}

.coord-inputs {
  display: flex;
  gap: 12px;
  margin-bottom: 12px;
}

.coord-field {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.coord-field label {
  font-family: var(--font-mono);
  font-size: 10px;
  letter-spacing: 1px;
  text-transform: uppercase;
  color: var(--text-secondary);
}

.coord-field input {
  padding: 10px 12px;
  background: rgba(0, 200, 255, 0.05);
  border: 1px solid var(--ui-border);
  color: var(--text-primary);
  font-family: var(--font-mono);
  font-size: 13px;
}

.coord-field input:focus {
  outline: none;
  border-color: var(--accent);
  box-shadow: 0 0 10px rgba(0, 200, 255, 0.2);
}

.apply-button {
  padding: 10px 20px;
  background: linear-gradient(135deg, var(--accent) 0%, var(--accent-dim) 100%);
  border: none;
  color: white;
  font-family: var(--font-mono);
  font-size: 11px;
  font-weight: 500;
  letter-spacing: 1px;
  text-transform: uppercase;
  cursor: pointer;
  align-self: flex-end;
  clip-path: polygon(0 0, 100% 0, 100% calc(100% - 4px), calc(100% - 4px) 100%, 0 100%);
  transition: all 0.2s;
}

.apply-button:hover {
  box-shadow: 0 0 20px rgba(0, 200, 255, 0.4);
}

.my-location-button {
  width: 100%;
  padding: 12px;
  background: rgba(0, 200, 255, 0.1);
  border: 1px solid var(--ui-border);
  color: var(--text-primary);
  font-family: var(--font-mono);
  font-size: 12px;
  letter-spacing: 0.5px;
  cursor: pointer;
  margin-bottom: 16px;
  transition: all 0.2s;
}

.my-location-button:hover {
  background: rgba(0, 200, 255, 0.2);
  border-color: var(--accent);
}

.my-location-button::before {
  content: '⊕ ';
  color: var(--accent);
}

.presets {
  border-top: 1px solid var(--ui-border);
  padding-top: 16px;
}

.presets-label {
  font-family: var(--font-mono);
  font-size: 10px;
  letter-spacing: 1px;
  text-transform: uppercase;
  color: var(--text-secondary);
  margin-bottom: 10px;
}

.preset-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.preset-button {
  padding: 8px 14px;
  background: rgba(0, 200, 255, 0.05);
  border: 1px solid var(--ui-border);
  color: var(--text-primary);
  font-family: var(--font-mono);
  font-size: 11px;
  cursor: pointer;
  transition: all 0.2s;
  clip-path: polygon(0 0, 100% 0, 100% calc(100% - 3px), calc(100% - 3px) 100%, 0 100%);
}

.preset-button:hover {
  background: rgba(0, 200, 255, 0.15);
  border-color: var(--accent);
  color: var(--accent);
}

/* Mobile */
@media (max-width: 640px) {
  .location-button {
    padding: 4px 8px;
    font-size: 8px;
    width: 75px;
  }
  
  .location-button::before {
    content: '◎';
  }
  
  .location-modal {
    padding: 12px;
    max-width: 95%;
  }
  
  .location-header h3 {
    font-size: 10px;
    letter-spacing: 1.5px;
  }
  
  .close-button {
    width: 22px;
    height: 22px;
    font-size: 12px;
  }
  
  .world-map {
    height: 110px;
  }
  
  .coord-field label {
    font-size: 7px;
  }
  
  .coord-field input {
    padding: 5px 6px;
    font-size: 9px;
  }
  
  .my-location-button {
    padding: 6px;
    font-size: 8px;
  }
  
  .preset-button {
    padding: 4px 6px;
    font-size: 7px;
  }
}

@media (max-width: 400px) {
  .location-button {
    padding: 3px 6px;
    font-size: 7px;
  }
}
